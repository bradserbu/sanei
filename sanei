#!/bin/bash
CURDIR="$( cd `dirname "${BASH_SOURCE[0]}"` && pwd )"
if ! source $CURDIR/functions.sh; then
    exit 1
fi

case ${ARGUMENTS[0]} in
    "install" )
        sanei_install "${ARGUMENTS[@]:1:${#ARGUMENTS[@]}}"
        ;;
    "update" )
        sanei_update "${ARGUMENTS[@]:1:${#ARGUMENTS[@]}}"
        ;;
    "updateall" )
        sanei_updateall
        ;;
    "updateallcontainers" | "uac" )
        sanei_updateall_containers
        ;;
    "override" )
        sanei_override
        ;;
    "list" )
        sanei_list_modules_with_status
        ;;
    # NOT IMPLEMENTED YET:
    "overridelxc" )
        exit 0;
        sanei_overridelxc
        ;;
    "configure" )
        exit 0;
        sanei_configure
        ;;
    * )
        echo "Welcome to SANEi 0.1"
        echo
        echo "Available commands are:"
        echo "  install"
        echo "  update"
        echo "  updateall"
        echo "  updateallcontainers"
        echo "  override"
        echo "  list"
        ;;
esac
